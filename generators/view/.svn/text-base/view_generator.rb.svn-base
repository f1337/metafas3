
class ViewGenerator < Sprout::Generator::NamedBase  # :nodoc:

  def manifest
    record do |m|
      if (! user_requested_test)
        m.directory full_class_dir
        m.template 'View.as', full_class_path
      end
 
      m.directory full_test_dir
      m.template 'TestCase.as', full_test_case_path
      
      m.template 'TestSuite.as', File.join(test_dir, 'AllTests.as')
    end
  end

  def assign_names!(name)
    # trim file name suffix in case it was submitted
    name.gsub!(/\//, '.')
    name.gsub!(/\.as$/, '')
    name.gsub!(/\.mxml$/, '')
    super("views.#{name}View")
  end
end